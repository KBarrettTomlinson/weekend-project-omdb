console.log("I'm still here for you.");var klmApp=angular.module("klmApp",[]);klmApp.controller("DisplayController",["$scope","MovieService",function(a,b){a.classesObject=b.classesObject,a.searchResult=b.searchResult,a.addToFavorites=b.addToFavorites}]),klmApp.controller("FavoritesController",["$scope","MovieService",function(a,b){a.favorites=b.favorites,a.deleteMovie=b.deleteMovie,a.findMovie=b.findMovie}]),klmApp.controller("SearchController",["$scope","MovieService",function(a,b){a.searchObject={},a.findMovie=b.findMovie}]),klmApp.factory("MovieService",["$http",function(a){var b={},c={},d=["hidden"],e={};return e.classes=d,a.get("/favorites").then(function(a){console.log("get all favorites",a),b.list=a.data}),{classesObject:e,searchResult:c,favorites:b,findMovie:function(b){var e=angular.copy(b),f=e.title;void 0===b._id&&(b.title=""),a.get("http://www.omdbapi.com/?t="+f+"&y=&plot=full&r=json").then(function(a){var b={};b.title=a.data.Title,b.director=a.data.Director,b.poster=a.data.Poster,b.year=a.data.Year,b.writer=a.data.Writer,b.plot=a.data.Plot,c.movie=b,d.pop("hidden")})},addToFavorites:function(c,d){var e={},f=angular.copy(c),g=angular.copy(d);e.title=f,e.year=g,a.post("/favorites/addFavorite",e).then(function(c){a.get("/favorites").then(function(a){console.log(a),b.list=a.data})})},deleteMovie:function(c){({}).id=c,a.delete("/favorites/deleteFavorite/"+c).then(function(c){console.log(c),a.get("/favorites").then(function(a){b.list=a.data})})}}}]);